<h1>Introduction</h1>EzTemplate is designed to help users create easily templates that they will be using in vcs.<br><br>EzTemplate first sub-package: "Multi" is designed to create template for "multiple" plots per page<br><br>EzTemplate are easy to use. <br>They consist in a 2 steps process<br><ol><li>Initialization of the object and setting up the values to use</li><li>Getting the vcs template object</li></ol>All EzTemplate object have a preview capabilty<br><br>In the examples here we will only use the preview capability, but we will show (commented out) a example line on how to use the templates in vcs<br>In these examples "s" is the variable to be plotted and "iso" is the graphic method you would like to use to display "s"<br><br><h1>The Multi Object</h1><br><h2>Definitions</h2>Multi Object allow the user to display multiple plots on a single page<br>In Version 1 a few assumption are made:<br><ul><li>The legend is either at the bottom or on the right side of the plot (always centered)</li></ul>The VCS Canvas has multiple sections or attributes with default values in between parantheses<br><ul><li>row (3) columns (2)<br></li></ul><ul><li>The <b>margins</b>: <b>top</b> (0.05), <b>bottom</b> (0.075), <b>left</b> (0.033) and <b>right</b> (0.05)<br></li><ul><li>in % of the page<br></li></ul><ul><li>The Bottom and Right Margins are used as a space to dispaly the global horizontal/vertical legend</li></ul><li>The <b>spacing</b>: <b>horizontal</b> (0.05) and <b>vertical</b> (0.035)<br></li><ul><li>Spacing defined the space between 2 plots on a row or a column</li><li>in % of the page</li></ul><li>The <b>legend</b>: <b>direction</b> ("horizontal"), <b>thickness</b> (0.2), <b>stretch</b> (0.8) and <b>fat</b> (0.05)<br></li><ul><li>Direction of the legend can be horizontal or Vertical</li><li>Thickness: in % of the space allocated for it</li><li>Stretch: in % of the space allocated for it</li><li>Fat: only used for "local" (inside the grid) plot,&nbsp; % of the grid space to use for the legend</li></ul><li>Functions: get, preview</li><ul><li>The <b>get</b> function <br></li><ul><li>creates and returns the template object associated wth the arguments: <b>row/column</b></li></ul><ul><li>if no row/column arguments then creates in order (each call) the template starting from top left, going right then down</li><li><b>legend</b> keyword can be passed as "local" indicating that this specific plot needs to have a legend associated with it. this will reduce the area allocated for the data plotting itself, the direction of the legend will be that of the legend.directino attribute at the time the function is called</li></ul><li>The <b>preview</b> function</li><ul><li>Generates the templates (if None already generated with a call to get) and output a preview result to the file specified by the <b>out</b> keyword<br></li></ul></ul></ul><h2>Examples</h2>Basic<br>In this example we simply plot 3 columns and 4 rows<br><br><pre>import EzTemplate,vcs<br><br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br><br>for i in range(12):<br>    t=M.get()<br>##     x.plot(s[i],t,iso)<br>M.preview('test')<br>raw_input('Done')<br><br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test0.gif"><br>In this example will show how to plot a legend on the side of each plot<br><br><pre>import EzTemplate,vcs<br><br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br>M.legend.direction='vertical'<br>for i in range(12):<br>    t=M.get(legend='local')<br>##     x.plot(s[i],t,iso)<br>M.preview('test2')<br><br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test2.gif"><br>In this example we show how to draw an horizontal legend bar on each row<br><br><pre>import EzTemplate,vcs<br>## 12 plot one legend per row<br><br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br>M.legend.stretch=2.5 # 250% of width (for middle one)<br>for i in range(12):<br>    t=M.get(legend='local')<br>    if i%3 !=1:<br>        t.legend.priority=0 # Turn off legend<br>##     x.plot(s[i],t,iso)<br>M.preview('test3')<br>raw_input('Done')<br></pre><br><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test3.gif"><br><br>In this example we show how to draw one legend per row vertically<br><pre>import cdms,EzTemplate,vcs,sys<br>## 12 plots 1 legend per row on the right<br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br>M.legend.direction='vertical'<br>for i in range(12):<br>    t=M.get(legend='local')<br>    if i%3 !=2:<br>        t.legend.priority=0 # Turn off legend<br>##     x.plot(s[i],t,iso)<br>M.preview('test3b')<br>raw_input('Done')<br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test3b.gif"><br>In this example we show how to control the margins and leged thickness<br><pre>import cdms,EzTemplate,vcs,sys<br>## 12 plot playing with margins and legend thickness<br><br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br>M.margins.top=.25<br>M.margins.bottom=.25<br>M.margins.left=.25<br>M.margins.right=.25<br><br>## The legend uses the bottom margin for display are<br>## We need to "shrink it"<br>M.legend.thickness=.1<br>for i in range(12):<br>    t=M.get()<br>##     x.plot(s[i],t,iso)<br>M.preview('test4')<br><br>raw_input('Done')<br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test4.gif"><br>In this example we show how to control margins and legend direction<br><br><pre>import EzTemplate,vcs<br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br>M.margins.top=.25<br>M.margins.bottom=.25<br>M.margins.left=.25<br>M.margins.right=.25<br><br>M.legend.direction='vertical'<br>## The legend uses the right margin for display are<br>## We need to "shrink it"<br>M.legend.thickness=.05<br>for i in range(12):<br>    t=M.get()<br>##     x.plot(s[i],t,iso)<br>M.preview('test5')<br>raw_input('Done')<br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test5.gif"><br>In this example we show how to mix local and "global" legend and how to alternate the direction of the local legend bars<br><br><pre>import EzTemplate,vcs<br><br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br>for i in range(12):<br>    if i%2==1:<br>        if i%4 == 3:<br>            M.legend.direction='vertical'<br>        t=M.get(legend='local')<br>        M.legend.direction='horizontal'<br>    else:<br>        t=M.get()<br>    #x.plot(s[i],t,iso)<br>M.preview('test6')<br>raw_input('Done')<br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test6.gif"><br>In this example we show how to get the templates in a different order (reversed here)<br><br><pre>import cdms,EzTemplate,vcs,sys<br><br>## Initialize VCS<br>x=vcs.init()<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br><br>icol=3<br>irow=4<br>for i in range(12):<br>    if i % 3 == 0:<br>        irow-=1<br>    icol-=1<br>    t=M.get(column=icol,row=irow)<br>#    x.plot(s[11-i],t,iso)<br>    if icol==0 : icol=3<br>M.preview('test7')<br>raw_input('Done')<br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test7.gif"><br>In this example we show how to control the "spacing" parameter<br><br><pre>import EzTemplate,vcs<br><br>## Initialize VCS<br>x=vcs.init()<br>iso=x.createisofill('test')<br>iso.levels=vcs.mkscale(0.,100.)<br>iso.fillareacolors=vcs.getcolors(iso.levels)<br><br>M=EzTemplate.Multi(rows=4,columns=3)<br>M.spacing.horizontal=.25<br>M.spacing.vertical=.1<br>M.preview('test8')<br>raw_input('Done')<br></pre><img src="http://www-pcmdi.llnl.gov/software-portal/cdat/contrib/test8.gif"><br>
